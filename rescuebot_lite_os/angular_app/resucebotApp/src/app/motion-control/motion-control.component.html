<div class="p-12 border rounded flex flex-col items-center">
  <h2 class="text-xl font-bold mb-4">Motion Control</h2>

  <div class="flex justify-between w-full">
    <!-- Robot and Controls -->
    <div class="flex flex-col items-center">
      <!-- Robot Illustration -->
      <div class="relative">
        <img src="assets/robot.png" alt="Robot" class="robot-image rotate-left">
        <!-- Horizontal Track Buttons -->
        <button class="track-button top-track" [class.active]="motorStates[0]" (click)="toggleMotor(0)">Track 1</button>
        <button class="track-button bottom-track" [class.active]="motorStates[1]" (click)="toggleMotor(1)">Track 2</button>
        <!-- Limb/Arm Track Buttons -->
        <button class="track-button top-left-arm" [class.active]="motorStates[2]" (click)="toggleMotor(2)">Arm 1</button>
        <button class="track-button top-right-arm" [class.active]="motorStates[3]" (click)="toggleMotor(3)">Arm 2</button>
        <button class="track-button bottom-left-arm" [class.active]="motorStates[4]" (click)="toggleMotor(4)">Arm 3</button>
        <button class="track-button bottom-right-arm" [class.active]="motorStates[5]" (click)="toggleMotor(5)">Arm 4</button>
      </div>

      <!-- Select All / Deselect All Buttons -->
      <div class="flex justify-around mt-4 mb-4">
        <button class="p-2 bg-blue-500 text-white rounded shadow" (click)="selectAll()">
          <i class="fas fa-check-square"></i> All
        </button>
        <button class="p-2 bg-red-500 text-white rounded shadow" (click)="deselectAll()">
          <i class="fas fa-times-circle"></i> None
        </button>
      </div>

      <!-- Power Control -->
      <div class="flex items-center mt-4">
        <label class="block mb-2">Power:</label>
        <input type="range" min="0" max="100" [(ngModel)]="powerLevel" class="mx-4 w-full" />
        <span>{{ powerLevel }}%</span>
      </div>

      <!-- Speed Control -->
      <div class="flex items-center mt-4">
        <label class="block mb-2">Speed:</label>
        <input type="range" min="0" max="100" [(ngModel)]="speedLevel" class="mx-4 w-full" />
        <span>{{ speedLevel }}%</span>
      </div>
    </div>

    <!-- Joystick Control -->
    <div class="flex flex-col items-center">
      <div class="joystick" (mousedown)="setJoystickDirection('up')" (mouseup)="setJoystickDirection('')">
        <div class="up" (mousedown)="setJoystickDirection('up')"></div>
        <div class="left" (mousedown)="setJoystickDirection('left')"></div>
        <div class="right" (mousedown)="setJoystickDirection('right')"></div>
        <div class="down" (mousedown)="setJoystickDirection('down')"></div>
        <div class="center"></div>
      </div>
      <span class="mt-2">Direction: {{ joystickDirection }}</span>
    </div>
  </div>
</div>
